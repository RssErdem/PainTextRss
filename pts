#!/data/data/com.termux/files/usr/bin/bash

CMD=$1
FILE=$2

if [[ -z "$CMD" ]]; then
  clear
  cat << 'EOF'
- Welcome to the PainTextRss language, producer Erdem KÃ–SE - 2025 (Rss Company)

Supported Syntax:

ðŸŸ© VARIABLE DECLARATION:
/name - 'erdem'           â†’ same as: name = "erdem"

ðŸŸ© PRINTING:
+("Hello ~name")          â†’ same as: print("Hello " .. name)

ðŸŸ© FUNCTION DEFINITION & CALLING:
def greet()
+("Hello")
;
!greet()                  â†’ calls function "greet"

ðŸŸ© FUNCTION WITH PARAMETERS:
def hello(who)
+("Hello ~who")
;
!hello('Ali')

ðŸŸ© RETURN VALUE:
def add(a, b)
return a + b
;

ðŸŸ© USER INPUT (STRING):
infor("What is your name?")
read /name - toread

ðŸŸ© USER INPUT (NUMBER):
infor("Enter a number")
read /num - tonumber(toread)

ðŸŸ© CONDITIONAL STATEMENTS:
if ~name == 'erdem' then
+("Your name is Erdem")
*
+("Your name is not Erdem")
;

ðŸŸ© SLEEP / DELAY:
uy(1)                     â†’ wait for 1 second

ðŸŸ© LOOP - WHILE:
while ~ do
+("looping")
uy(1)
;

ðŸŸ© LOOP - FOR:
for 1 to 5 do
+("Message")
;

ðŸŸ© COMMENTS:
-- This is a comment

ðŸŸ© LISTS:
fruits + ("apple / banana / cherry")

ðŸŸ© RANDOM LOOP FROM LIST:
for 'item', random ~fruits do
+(item)
;

ðŸŸ© FILE WRITE & READ:
write("file.txt", "Hello")
readfile("file.txt", /data - toread)

ðŸŸ© RUN TERMINAL COMMAND:
run("ls")

---
Usage:
  pts script.pts        â†’ Run a PTS script
  pts -l script.pts     â†’ Convert PTS to Lua
  pts -p script.pts     â†’ Convert PTS to Python
EOF
  exit 0
fi

if [[ "$CMD" == "-l" ]]; then
  lua ~/pts/pts_to_lua.lua "$FILE"
  exit 0
fi

if [[ "$CMD" == "-p" ]]; then
  python ~/pts/pts_to_py.py "$FILE"
  exit 0
fi

if [[ -f "$CMD" ]]; then
  lua ~/pts/pts_interpreter.lua "$CMD"
else
  echo "âŒ File not found: $CMD"
  exit 1
fi